const translations = {
    "en": {
        "nav_home": "Home",
        "nav_events": "Events",
        "nav_about": "About",
        "nav_contact": "Contact",
        "footer_rights": "© 2025 City Events Guide. All rights reserved.",
        "footer_contact_text": "Contact us:",
        "footer_follow_text": "Follow us:",
        "event1_title": "City Summer Fest 🎵",
        "event1_desc": "A three-day music festival featuring local bands.",
        "card_date": "🗓️ Date:",
        "card_location": "📍 Location:",
        "card_category": "🏷️ Category:",
        "contributor_title": "**Project Contributors**", 
        "contributor_hala_name": "Hala Nejmeh", 
        "contributor_thaer_name": "Thaer Shaarieh", 
        "contributor_hani_name": "Hani Abbas", 
        "contributor_course": "**Course**", 
        "contributor_instructor": "**Instructor**", 
        "watch_promo_button": "Watch Promo on YouTube",
        "events_page_title": "Upcoming City Events",
        "filter_title": "Filter Events",
        "filter_category": "Category:",
        "filter_all": "All Categories",
        "filter_music": "Music",
        "filter_art": "Arts & Culture",
        "filter_food": "Food & Drink",
        "filter_sport": "Sport",
        "filter_date": "Date Range:",
        "filter_search": "Search:",
        "filter_apply": "Apply Filters",
        "hero_title": "Discover Your City's Best Events",
        "hero_subtitle": "Find concerts, festivals, and activities happening near you.",
        "hero_button": "Browse All Events",
        "categories_title": "Quick Categories",
        "category_music": "🎵 Music",
        "category_culture": "📖 Culture",
        "category_sports": "🏃 Sports",
        "category_food": "🌮 Food",
        "category_family": "👨‍👩‍👧‍👦 Family",
        "featured_title": "Featured Event",
        "event_details_button": "View Details",
        "event1_card_title": "City Summer Fest",
        "event1_card_desc": "A three-day music festival featuring local bands.",
        "event1_card_date": "🗓️ Date: July 20, 2025",
        "event1_card_location": "📍 Location: Central Park Arena",
        "event2_card_title": "Global Food Fair",
        "event2_card_desc": "Taste diverse cuisines from around the world.",
        "event2_card_date": "🗓️ Date: August 5, 2025",
        "event2_card_location": "📍 Location: Downtown Expo Center",
        "event3_card_title": "Modern Art Exhibition",
        "event3_card_desc": "Showcasing works from 20 emerging artists.",
        "event3_card_date": "🗓️ Date: September 15, 2025",
        "event3_card_location": "📍 Location: City Museum of Arts",
        "event4_card_title": "Annual City Marathon",
        "event4_card_desc": "Join the race for health and charity.",
        "event4_card_date": "🗓️ Date: October 1, 2025",
        "event4_card_location": "📍 Location: City Harbor Route"
    },
    "ar": {
        "nav_home": "الرئيسية",
        "nav_events": "الفعاليات",
        "nav_about": "حول المشروع",
        "nav_contact": "تواصل معنا",
        "footer_rights": "© 2025 دليل فعاليات المدينة. جميع الحقوق محفوظة.",
        "footer_contact_text": "للتواصل:",
        "footer_follow_text": "تابعنا:",
        "event1_title": "مهرجان الصيف الموسيقي 🎵",
        "event1_desc": "مهرجان موسيقي لمدة ثلاثة أيام يضم فرقًا محلية.",
        "card_date": "🗓️ التاريخ:",
        "card_location": "📍 الموقع:",
        "card_category": "🏷️ الفئة:",
        "contributor_title": "**مساهمو المشروع**", 
        "contributor_hala_name": "هالة نجمة", 
        "contributor_thaer_name": "ثائر شعيرية", 
        "contributor_hani_name": "هاني عباس", 
        "contributor_course": "**المساق**", 
        "contributor_instructor": "**المحاضر**", 
        "watch_promo_button": "شاهد العرض الترويجي على يوتيوب",
        "events_page_title": "الفعاليات القادمة في المدينة",
        "filter_title": "تصفية الفعاليات",
        "filter_category": "الفئة:",
        "filter_all": "جميع الفئات",
        "filter_music": "موسيقى",
        "filter_art": "فنون وثقافة",
        "filter_food": "مأكولات ومشروبات",
        "filter_sport": "رياضة",
        "filter_date": "نطاق التاريخ:",
        "filter_search": "بحث:",
        "filter_apply": "تطبيق الفلاتر",
        "hero_title": "اكتشف أفضل فعاليات مدينتك",
        "hero_subtitle": "ابحث عن الحفلات والمهرجانات والأنشطة القريبة منك.",
        "hero_button": "تصفح جميع الفعاليات",
        "categories_title": "فئات سريعة",
        "category_music": "🎵 موسيقى",
        "category_culture": "📖 ثقافة",
        "category_sports": "🏃 رياضة",
        "category_food": "🌮 مأكولات",
        "category_family": "👨‍👩‍👧‍👦 عائلية",
        "featured_title": "فعالية مميزة",
        "event_details_button": "عرض التفاصيل",
        "event1_card_title": "مهرجان الصيف",
        "event1_card_desc": "مهرجان موسيقي لمدة ثلاثة أيام يضم فرقًا محلية.",
        "event1_card_date": "🗓️ التاريخ: 20 يوليو 2025",
        "event1_card_location": "📍 الموقع: ساحة سنترال بارك",
        "event2_card_title": "معرض الغذاء العالمي",
        "event2_card_desc": "تذوق مختلف الأطباق من جميع أنحاء العالم.",
        "event2_card_date": "🗓️ التاريخ: 5 أغسطس 2025",
        "event2_card_location": "📍 الموقع: مركز المعارض بالوسط",
        "event3_card_title": "معرض الفن الحديث",
        "event3_card_desc": "عرض أعمال 20 فناناً صاعداً.",
        "event3_card_date": "🗓️ التاريخ: 15 سبتمبر 2025",
        "event3_card_location": "📍 الموقع: متحف المدينة للفنون",
        "event4_card_title": "ماراثون المدينة السنوي",
        "event4_card_desc": "شارك في السباق من أجل الصحة والأعمال الخيرية.",
        "event4_card_date": "🗓️ التاريخ: 1 أكتوبر 2025",
        "event4_card_location": "📍 الموقع: طريق المرفأ الحضري"
    }
};

let currentLanguage = localStorage.getItem('language') || 'en';

function applyTranslations(lang) {
    document.querySelectorAll('[data-key]').forEach(element => {
        const key = element.getAttribute('data-key');
        if (translations[lang] && translations[lang][key]) {
            let translatedText = translations[lang][key];
            translatedText = translatedText.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            element.innerHTML = translatedText;
        }
    });
    document.documentElement.dir = (lang === 'ar') ? 'rtl' : 'ltr';
    document.body.style.textAlign = (lang === 'ar') ? 'right' : 'left';
}

function switchLanguage() {
    currentLanguage = (currentLanguage === 'en') ? 'ar' : 'en';
    localStorage.setItem('language', currentLanguage);
    applyTranslations(currentLanguage);
    document.getElementById('lang-switcher').textContent = (currentLanguage === 'en') ? 'EN/AR' : 'ع/ا';
}

function initializeLanguage() {
    applyTranslations(currentLanguage);
    const langSwitcher = document.getElementById('lang-switcher');
    if (langSwitcher) {
        langSwitcher.addEventListener('click', switchLanguage);
        langSwitcher.textContent = (currentLanguage === 'en') ? 'EN/AR' : 'ع/ا';
    }
}